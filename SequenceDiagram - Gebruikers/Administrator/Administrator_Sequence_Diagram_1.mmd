%% 1. Admin maakt Announcement (en broadcast naar officers)

%%{init: {'theme':'base','themeVariables':{
  'lineColor':'orange','primaryColor':'lightyellow','primaryTextColor':'black','textColor':'green','mainBkg':'yellow'
}}}%%

sequenceDiagram
    actor Admin
    participant Frontend
    participant Backend
    participant AnnouncementService
    participant Database
    participant NotificationService

    Admin->>+Frontend: Vul announcement formulier -> klik "Publiceer"
    Frontend->>+Backend: POST /api/admin/announcements {title, content, visibility, startAt, endAt}
    Backend->>+AnnouncementService: createAnnouncement(dto, adminId)
    AnnouncementService->>+Database: INSERT INTO announcements (...)
    Database-->>-AnnouncementService: Announcement(id=77)
    AnnouncementService->>+NotificationService: broadcastToOfficers(announcementId=77, payload)
    NotificationService-->>-AnnouncementService: OK
    AnnouncementService-->>-Backend: AnnouncementDTO
    Backend-->>-Frontend: 201 Created (announcementId=77)
    Frontend-->>-Admin: Notificatie: "Aankondiging gepubliceerd"